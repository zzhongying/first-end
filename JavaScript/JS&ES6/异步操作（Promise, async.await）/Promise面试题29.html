<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    async function async1 () {
        await async2();
        console.log('async1');
        return 'async1 success'
    }
    async function async2 () {
        return new Promise((resolve, reject) => {
            console.log('async2')
            reject('error')
        })
    }
    async1().then(res => console.log(res))

    //预计：async2 - async1 - async1 success

    //实际：async2 - Uncaught (in promise) error
    // 如果async函数中抛出了错误，就会终止错误结果，不会继续向下执行。
    //如果想要继续执行，则应该这样：
    async function async11 () {
        await Promise.reject('error!!!').catch(e => console.log(e))
        console.log('async11');
        return Promise.resolve('async11 success')
    }
    async11().then(res => console.log(res))
    console.log('script start')

    //script start - error!!! - async1 - async1 success

</script>
</html>