<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    Promise.resolve(1)
        .then(2)
        .then(Promise.resolve(3))
        .then(console.log)

    //Promise方法链通过return传值，没有return就只是相互独立的任务而已
    //看到这个题目，好多的then，实际上只需要记住一个原则：.then 或.catch 的参数期望是函数，传入非函数则会发生值透传。
    // 第一个then和第二个then中传入的都不是函数，一个是数字，一个是对象，因此发生了透传，将resolve(1) 的值直接传到最后一个then里，直接打印出1。
    //当then方法没有指定失败的回调函数时，则不执行当前代码，去往下一级寻找失败状态回调函数


    new Promise((resolve, reject) => {
        reject(1) //失败状态
    })
        .then(value => {
            console.log('成功', value);
        })
        .then(value => {
            console.log('成功', value); //成功 undefined
        })

    //当没有指定失败回调，也没有catch捕获，那么系统会默认捕获，形式如下：
    reason => {
        throw reason //注意不是return reason 而是throw reason ；throw保证了返回结果为失败
    }
    //上述等同于：
    new Promise((resolve, reject) => {
        reject(1) //失败状态
    }).then(value => {
            console.log('成功', value);
        })
        .then(value => {
            console.log('成功', value); //成功 undefined
        })
        .catch(reson => {throw reson})

</script>
</html>