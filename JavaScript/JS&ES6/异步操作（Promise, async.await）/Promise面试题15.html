<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    Promise.resolve().then(() => {
        return new Error('error!!!')
        //返回任意一个非 promise 的值都会被包裹成 promise 对象，
        // 因此这里的return new Error('error!!!')也被包裹成了
        // return Promise.resolve(new Error('error!!!'))，
        // 因此它会被then捕获而不是catch。
    }).then(res => {
        console.log("then: ", res)
    }).catch(err => {
        console.log("catch: ", err)
    })

    // then :error!


    const promise = Promise.resolve().then(() => {
        return promise;
    })
    promise.catch(console.err)
    //Uncaught (in promise) TypeError: Chaining cycle detected for promise #<Promise>
    //这其实是一个坑，promise返回的对象不能是其本身，否则会造成死循环
</script>
</html>