<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    const async1 = async () => {
        console.log('async1');
        setTimeout(() => {
            console.log('timer1')
        }, 2000)
        await new Promise(resolve => {
            console.log('promise1')  //状态没有改变，后面的代码一直不执行
        })
        console.log('async1 end')
        return 'async1 success'
    }

    console.log('script start');
    async1().then(res => console.log(res));
    console.log('script end');
    Promise.resolve(1)
        .then(2)
        .then(Promise.resolve(3))
        .catch(4)
        .then(res => console.log(res))
    setTimeout(() => {
        console.log('timer2')
    }, 1000)

    //script start - async1 -promise1 - script end - 1 -timer2 - timer1
    //输出1是因为有值穿透，中途没有return，相当于各干各的事，1一直穿透到最后一个包含console的then方法中
    //
</script>
</html>