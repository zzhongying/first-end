<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>

<script>
    //数组扁平化：将多维嵌套数组展开为一维数组
    var testArr = [2,3,4,[6,1,[6,3,8,[5,25,84,14]]],5,25]
    console.log(testArr)

    //方法一：使用封装好的flat
    console.log(testArr.flat(Infinity))  //1，使用封装号的flat

    //方法二：使用字符串转换,map()方法创建一个新数组，并对该数组中的每个元素调用()提供的函数。
    // var temp = testArr.toString().split(',')
    // for(let i=0;i<temp.length;i++){
    //     temp[i]=parseInt(temp[i])
    // }
    //上述for循环等同
    var temp1 = testArr.toString().split(',').map(item => parseInt(item))

    console.log(temp1)

    //方法三，自行写递归
    function flatten(array) {
        let temp =[]
        function Flatt( arr ){
            for (let i of arr){
                if(typeof i == 'object'){  //修改条件改为Array.isArray也可以
                    Flatt(i)
                }
                else {
                    temp.push(i)
                }
            }
        }
        Flatt(array)
        return temp
    }
    console.log(flatten(testArr))

    //方法四：加入控制参数
    function myFlat(arr,deep) {
        let temp =[]
        function handle(array,order) {
            array.forEach((item)=>{
                if(Array.isArray(item) && order >0 ){
                    handle(item,order-1)
                }
                else {
                    temp.push(item)
                }
            })
        }

        handle(arr,deep)
        return temp
    }

    console.log(myFlat(testArr,2))


</script>
</html>