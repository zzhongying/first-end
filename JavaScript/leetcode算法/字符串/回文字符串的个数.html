<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    var countSubstrings = function(s) {
        if(s.length < 2){
            return s.length
        }

        let result =[] //存储所有的回文子串

        //因为不知道最长回文子串的长度是偶数还是奇数，只能两种情况都试试看，取字符串最长的那一个
        for(let i=1;i<s.length;i++){
            let left = i-1
            let right = i+1
            while ( left >=0 && right < s.length && s[left] === s[right]){
                result.push([left,right,s.slice(left,right+1)])
                left -- ;
                right ++
            }
        }

        for(let i=0;i<s.length;i++){
            let left = i
            let right = i+1
            while ( left >=0 && right < s.length && s[left] === s[right]){
                result.push([left,right,s.slice(left,right+1)])
                left -- ;
                right ++
            }
        }

        //求result中字符串最长的那个
        let max = 0
        let temp =null
        for(let i =0;i<result.length ;i++){  //right-left+1
            if(result[i][1] - result[i][0]   > max){
                max = result[i][1] - result[i][0]
                temp = result[i][2]
            }
        }
        console.log(result)
        console.log(max,temp)  //最长的子串temp及其长度max
        if(max === 0){
            return s.length  //此时字符串不存在回文子串，直接返回第一个
        }
        else{
            return result.length + s.length
        }
    };
</script>
</html>