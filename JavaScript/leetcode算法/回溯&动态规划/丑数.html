<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    //我们把只包含质因子 2、3 和 5 的数称作丑数（Ugly Number）。求按从小到大的顺序的第 n 个丑数。
    //丑树必定会形成一个矩阵：
    //1 2 3 5 // 这一行里, 2,3,5分别是1的三个乘积
    //2 4 6 10 // 同理, 4,6,10是2的三个乘积
    //3 6 9 15 // ....
    //4 8 12 20
    //5 10 15 25


    var nthUglyNumber = function(n) {
       if(n===0) return 0;
        let dp =new Array(n).fill(0)
        let p2=0,p3=0,p5=0
        dp[0]=1
        //nums2 = {1*2, 2*2, 3*2, 4*2, 5*2, 6*2, 8*2...}
        // nums3 = {1*3, 2*3, 3*3, 4*3, 5*3, 6*3, 8*3...}
        // nums5 = {1*5, 2*5, 3*5, 4*5, 5*5, 6*5, 8*5...}

        // 合并 3 个有序序列， 最简单的方法就是每一个序列都各自维护一个指针，
        // 然后比较指针指向的元素的值， 将最小的放入最终的合并数组中，
        // 并将相应指针向后移动一个元素。 这也就是：

        for(let i=1;i<n;i++){
            dp[i] = Math.min(dp[p2]*2,dp[p3]*3,dp[p5]*5)
            if(dp[i] === dp[p2]*2) {
                p2 += 1
            }
            if(dp[i] === dp[p3]*3) {
                p3 += 1
            }
            if(dp[i] === dp[p5]*5) {
                p5 += 1
            }
        }
        console.log(dp)
    };

    nthUglyNumber(63)
</script>
</html>